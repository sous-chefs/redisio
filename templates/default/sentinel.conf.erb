# Generated by redisio Chef cookbook
<%= 'daemonize yes' unless @job_control == 'upstart' %>
pidfile <%= @piddir %>/sentinel_<%=@name%>.pid
loglevel <%=@loglevel%>
syslog-enabled <%= @syslogenabled %>
syslog-ident redis-<%= @name %>
syslog-facility <%= @syslogfacility %>
<%= "logfile #{@logfile}" unless @logfile.nil? %>
port <%=@sentinel_port%>

<% @masters.each do |master| %>
sentinel monitor <%=master[:name]%> <%=master[:ip]%> <%=master[:port]%> <%= master[:quorum_count] %>
<%= "sentinel auth-pass #{master[:name]} #{master[:authpass]}" unless master[:authpass].nil? %>
sentinel down-after-milliseconds <%=master[:name]%> <%=master[:downaftermil]%>
sentinel parallel-syncs <%=master[:name]%> <%=master[:parallelsyncs]%>
sentinel failover-timeout <%=master[:name]%> <%=master[:failovertimeout]%>
<% end %>